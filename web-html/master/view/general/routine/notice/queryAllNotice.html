<!DOCTYPE html>
<html>
<head lang="zh">
    <meta charset="UTF-8">
    <title>系统公告组件</title>
    <script src="../../../../js/common/header.js"></script>
</head>
<body>
<div class="wrap">
    <div class="row">
        <div class="col-md-12">
            <div class="box-inside">
                <div class="box-header box-bottom">
                    <h6>查询条件</h6>
                </div>
                <div class="box-content clearfix padding-top-15">
                    <ul>
                        <li class="col-md-4">
                            <span class="col-md-3 span-lineHeight40" style="width: 110px">
                             公告编号:
                            </span>
                            <span class="col-md-8">
                                <input id="bulletinId" class="k-textbox full-width" value="" >
                            </span>
                        </li>
                        <li class="col-md-4">
                            <span class="col-md-3 span-lineHeight40" style="width: 110px">
                                 公告主题:
                            </span>
                            <span class="col-md-8">
                                <input id="subject" class="k-textbox full-width" value="" >
                            </span>
                        </li>
                        <li class="col-md-4">
                            <span class="col-md-3 span-lineHeight40" style="width: 110px">
                             起始时间:
                            </span>
                            <span class="col-md-8">
                                <input class="aiui-datebox full-width" id="startTime" type="date" format="yyyy-MM-dd"/>
                            </span>
                        </li>
                        <li class="col-md-4">
                            <span class="col-md-3 span-lineHeight40" style="width: 110px">
                             结束时间:
                            </span>
                            <span class="col-md-8">
                                <input class="aiui-datebox full-width" id="endTime" type="date" format="yyyy-MM-dd"/>
                            </span>
                        </li>
                        <li class="col-md-2 text-right">
                            <button class="k-button k-primary" id="lookForNotice" type="button">查询</button>
                            <button class="k-button k-primary" id="addNewNotice" type="button">新增</button>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="box-inside">
                <div class="box-header box-bottom">
                    <h6>查询结果</h6>
                </div>
                <div class="box-content">
                    <table class="aiui-datagrid" id="queryAllnotice" height="400"
                           selectable="multiple,row"
                           schemaData="data.data"
                           schemaTotal="data.count"
                           srvId="IENBULLETININFOFSV_QUERYFORNOTICEBYPAGE"
                           data-options="pageSize:10 ,beforeLoad:noticeModule.getParams"
                           autoBind="true"
                           idField="bulletinId"
                           >
                        <thead>
                            <tr>
                                <th field="BULLETIN_ID" width="80">公告编号</th>
                                <th field="SUBJECT" width="100">公告主题</th>
                                <th field="PARTYROLE_ID" hidden="true">创员ID</th>
                                <th field="CREATE_DATE" width="100">创建时间</th>
                                <th field="BULLETIN_START_DATE" param="yyyy-MM-dd" width="100">开始日期</th>
                                <th field="BULLETIN_END_DATE" param="yyyy-MM-dd" width="100">结束日期</th>
                                <th field="STATE" hidden="true">状态</th>
                                <th field="DONE_CODE" hidden="true">业务受理编号</th>
                                <th field="DONE_DATE" hidden="true">受理时间</th>
                                <th field="OPID" hidden="true">操作员</th>
                                <th field="ORGID" hidden="true" >组织单</th>
                                <th field="EXTENT" hidden="true">紧急程度</th>
                                <th data-options="field:'BULLETIN_TYPE',width:90,template:function(dataItem){
                            var title = '';
                            if (dataItem.BULLETIN_TYPE == null) {
                                title = '无';
                            } else {
                                if (dataItem.BULLETIN_TYPE == 0) {
                                title = '普通公告';
                            } else{
                                title = '系统公告';
                            }
                            }
                            return title;
                        }">公告类别</th>
                                <th hidden="true" data-options="field:'ANNEX',width:90,template:function(dataItem){
                            var title = '';
                            if (dataItem.ANNEX == null) {
                                title = '无附件';
                            } else {
                                title = dataItem.ANNEX;
                            }
                                return title;
                            }">附件</th>
                                <th data-options="field:'BULLETIN_ID',width:90,template:function(dataItem){
                                               return '<a href=\'javascript:void(0)\' onclick=\'noticeModule.viewNotice('+dataItem.BULLETIN_ID+')\' class=\'padding-left-10\'>查看</a>'
                                               +'<a href=\'javascript:void(0)\' onclick=\'noticeModule.updateNotice('+dataItem.BULLETIN_ID+')\' class=\'padding-left-10\'>修改</a>'
                                               +'<a href=\'javascript:void(0)\' onclick=\'noticeModule.deleteNotice('+dataItem.BULLETIN_ID+')\' class=\'padding-left-10\'>删除</a>';
                                        }">操作
                                </th>
                            </tr>
                        </thead>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript" src="../../../../js/general/routine/notice/queryAllNotice.js"></script>
</body>
</html>