<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>流程定义页面</title>
    <script type="text/javascript" src="../../../../js/common/header.js"></script>
</head>
<body>
    <div class="wrap">
        <div class="row">
           <div class="col-md-12">
               <div class="box-inside">
                   <div class="box-content padding-top-10 clearfix">
                       <div class="box-query clearfix">
                           <ul>
                               <li class="col-md-12">
                                   <span class="col-md-2 text-left">状态</span>
                                   <span class="col-md-10">
                                        <select id="processState" class="aiui-tilecombobox" multFlag=true hasMore=true hasAll=true defaultValue="1">
                                            <option value="0">待启用</option>
                                            <option value="1">正在使用</option>
                                            <option value="2">已过时</option>
                                            <option value="3">已删除</option>
                                        </select>
                                    </span>
                               </li>
                               <li  class="col-md-12">
                                   <span class="col-md-2 text-left">创建时间</span>
                                   <span class="col-md-10 ">
                                       <span class="col-md-3">
                                            <input class="aiui-datebox full-width" id="startDate" type="date" format="yyyy-MM-dd"/>
                                        </span>
                                       <span class="col-md-1 text-center line-span "><hr></span>
                                       <span class="col-md-3">
                                            <input class="aiui-datebox full-width" id="endDate" type="date" format="yyyy-MM-dd"/>
                                        </span>
                                   </span>
                               </li>
                           </ul>
                       </div>
                       <div class="col-md-11 padding-top-15">
                           <span class="col-md-3 text-left">
                               <input class="k-textbox" type="text" id="queryFiled" placeholder="流程编号/流程名称"/>
                           </span>
                           <span class="col-md-1">&nbsp;</span>
                           <span class="col-md-8 text-left">
                                <button class="k-button k-primary margin-left-15" id="queryProcess">查询</button>
                                <button class="k-button k-primary padding-left-5" id="newProcess">新增</button>
                            </span>
                       </div>
                   </div>
               </div>
                <div class="box-inside">
                    <div class="box-header clearfix">
                        <h6>流程列表</h6>
                    </div>
                    <div class="box-content">
                        <table class="aiui-datagrid" id="processGrid" srvId="ICFGPROCESSFSV_QUERYPROCESSINFO"
                               sortable="true" pageable="false" rownumbers="false"
                               checkbox="false" autoBind="true"
                               data-options="beforeLoad:getParams">
                            <thead>
                                <tr>
                                    <th field="processId" width="100" hidden>流程编号</th>
                                    <th field="processDefineId" width="100">流程编号</th>
                                    <th field="processName" width="150">流程名称</th>
                                    <th field="processDesc" width="250">流程描述</th>
                                    <th data-options="field:'state',width:90,template:function(dataItem){
                                        var title = '';
                                        if (dataItem.state == '0') {
                                            title = '待启用';
                                        } else if (dataItem.state == '1') {
                                            title = '正在使用';
                                        } else if (dataItem.state == '2') {
                                            title = '已过时';
                                        } else if (dataItem.state == '3') {
                                            title = '已删除';
                                        }
                                        return title;
                                    }">状态
                                    </th>
                                    <th field="validDate" width="150">生效时间</th>
                                    <th field="expireDate" width="150">失效时间</th>
                                    <th data-options="field:'state',width:120,template:function(dataItem){
                                            var title = '';
                                            if (dataItem.state == '0') {
                                                title = '<a href=\'javascript:void(0)\' onclick=\'useProcess('+JSON.stringify(dataItem)+')\' class=\'padding-left-10\'>启用</a>'+
                                                        '<a href=\'javascript:void(0)\' onclick=\'updProcess('+JSON.stringify(dataItem)+')\' class=\'padding-left-10\'>修改</a>'+
                                                        '<a href=\'javascript:void(0)\' onclick=\'delProcess('+JSON.stringify(dataItem)+')\' class=\'padding-left-10\'>删除</a>';
                                            } else if (dataItem.state == '1') {
                                                title = '<a href=\'javascript:void(0)\' onclick=\'updProcess('+JSON.stringify(dataItem)+')\' class=\'padding-left-10\'>修改</a>'+
                                                        '<a href=\'javascript:void(0)\' onclick=\'delProcess('+JSON.stringify(dataItem)+')\' class=\'padding-left-10\'>删除</a>';
                                            } else if (dataItem.state == '2') {
                                                title = '<a  href=\'javascript:void(0)\' onclick=\'delProcess('+JSON.stringify(dataItem)+')\' class=\'padding-left-10\'>删除</a>';
                                            } else if (dataItem.state == '3') {
                                                title = '';
                                            }
                                            return title;
                                        }">操作
                                    </th>
                                    <th field="processJson1" hidden>JSON1</th>
                                    <th field="processJson2" hidden>JSON2</th>
                                    <th field="processJson3" hidden>JSON3</th>
                                    <th field="processJson4" hidden>JSON4</th>
                                    <th field="processJson5" hidden>JSON5</th>
                                </tr>
                            </thead>
                        </table>
                    </div>
                </div>
           </div>
        </div>
    </div>
<script type="text/javascript" src="../../../../js/general/common/process/processDefineList.js"></script>
</body>
</html>